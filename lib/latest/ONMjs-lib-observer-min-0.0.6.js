(function(){(function(){var e,s;window.Console=function(){function e(){}e.init=function(){var s;s=$("#idConsole");if(!(s!=null)||!s){throw"Unable to resolve the #idConsole DIV."}if(Encapsule.runtime.app.SchemaWindowManager!=null&&Encapsule.runtime.app.SchemaWindowManager){s.html("reset");Encapsule.runtime.app.SchemaWindowManager.refreshWindowManagerViewState({forceEval:true})}s.html('<div id="idClearConsole" style="float: right;">\n    <button id="idButtonClearConsole" class="button red small">Reset Console</button>\n    <button id="idButtonHideConsole" class="button blue small">Hide Console</button>\n</div>\n<img src="img/core-seablue-48x48.png" style="float:left; margin-right: 10px;">\n<h1>'+appName+" v"+appVersion+'</h1>\n<div style="clear: both;"></div>\n<p>\n    <strong>Copyright:</strong> '+appCopyright+' &bull;\n    <strong>License:</strong> <a href="'+appLicenseUrl+'" title="Read the '+appLicense+' text..." target="_blank">'+appLicense+'</a> &bull;\n    <strong>Sources:</strong> <a href="'+appGitHubRepoUrl+'" title="'+appGitHubRepoName+' repo on GitHub" target="_blank">'+appGitHubRepoName+"</a>\n</p>\n<p>\nBuild: {"+appBuildId+"}  "+appBuildTime+' by <a href="mailto:'+appBuilder+'">'+appBuilder+"</a>\n</p>");$("#idButtonClearConsole").click(function(){s=$("#idConsole").css({backgroundColor:"#CCCCCC"});e.init();return e.message("Console re-initialized.")});return $("#idButtonHideConsole").click(function(){return e.hide()})};e.opacity=function(e){var s;s=$("#idConsole");return s.css({opacity:""+e})};e.show=function(){var s;s=$("#idConsole");if(s!=null&&s){return s.hide(0,function(){e.opacity(1);return s.show(500)})}};e.hide=function(){var s;s=$("#idConsole");if(s!=null&&s){return s.hide(500,function(){e.opacity(0);if(Encapsule.runtime.app.SchemaWindowManager!=null&&Encapsule.runtime.app.SchemaWindowManager){return Encapsule.runtime.app.SchemaWindowManager.refreshWindowManagerViewState({forceEval:true})}})}};e.log=function(s){e.message(s);if(typeof console!=="undefined"&&console!==null&&console&&console.log!=null&&console.log){return console.log(s)}};e.message=function(s){e.messageStart(s);return e.messageEnd("")};e.messageRaw=function(e){var s;s=$("#idConsole");return s.append(e)};e.messageStart=function(s){return e.messageRaw("> "+s)};e.messageEnd=function(s){return e.messageRaw(""+s+"<br>")};e.messageError=function(s){var n,t,a;a='<h2 style="color: #990000;">'+appName+' Runtime Exception</h2>\n<div class="classConsoleExceptionContainer">\n    <h3 style="color: #660000">'+appName+" v"+appVersion+" RUNTIME EXCEPTION:</h3>\n    <h4>AppID: "+appId+" &bull; ReleaseID: "+appReleaseId+" &bull; AppBuildID: "+appBuildId+'</h4>\n    <div style="margin: 5px; margin-top-15px; padding: 10px; background-color: #FF9900; border: 1px solid black;">'+s+"</div>\n</div>";e.messageRaw(a);e.log("!!!! "+s);t=$("#idConsole");t.show();t.css({opacity:"1.0",backgroundColor:"#FFCC00"});Encapsule.runtime.boot.phase0.spinner.cancel();if(typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule.runtime!=null&&Encapsule.runtime.boot!=null&&Encapsule.runtime.boot.phase0!=null&&Encapsule.runtime.boot.phase0.blipper!=null){n=Encapsule.runtime.boot.phase0.blipper;n.blip("22a");return n.blip("warning")}};return e}.call(this);ko.bindingHandlers.editableText={init:function(e,s){return $(e).on("blur",function(){var e;e=s();return e($(this).text())})},update:function(e,s){var n;n=ko.utils.unwrapObservable(s());return $(e).text(n)}};s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.kohelpers=Encapsule.code.lib.kohelpers!=null&&Encapsule.code.lib.kohelpers||(this.Encapsule.code.lib.kohelpers={});Encapsule.runtime=Encapsule.runtime!=null&&Encapsule.runtime||(this.Encapsule.runtime={});Encapsule.runtime.app=Encapsule.runtime.app!=null&&Encapsule.runtime.app||(this.Encapsule.runtime.app={});Encapsule.runtime.app.kotemplates=Encapsule.runtime.app.kotemplates!=null&&Encapsule.runtime.app.kotemplates||(this.Encapsule.runtime.app.kotemplates=[]);Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate=function(e,s){try{if(!(e!=null)||!e||!(s!=null)||!s){throw"RegisterKnockoutViewTemplate bad parameter(s)"}Encapsule.runtime.app.kotemplates.push(koTemplate);return true}catch(n){throw"RegisterKnockoutViewTemplate selectorId="+selectId_+" : "+n}};Encapsule.code.lib.kohelpers.InstallKnockoutViewTemplate=function(e,s){var n,t,a;try{if(!(s!=null)||!s){throw"Invalid parent element parameter."}if(!(e!=null)||!e){throw"Invalid descriptor parameter."}if(!(e.selectorId_!=null)||!e.selectorId_){throw"Invalid descriptor.selectorId_ parameter."}if(!(e.fnHtml_!=null)||!e.fnHtml_){throw"Invalid descriptor.fnHtml_ parameter."}a="#"+e.selectorId_;t=$(a);if(t.length===1){throw'Duplicate Knockout.js HTML view template registration. id="'+e.selectorId_+'"'}n=void 0;try{n=e.fnHtml_()}catch(o){throw"While evaluating the "+e.selectorId_+" HTML callback: "+o}s.append($('<script type="text/html" id="'+e.selectorId_+'">'+n+"</script>"));return true}catch(o){throw"InstallKnockoutViewTemplate for descriptor "+e.selectorId_+" : "+o}};Encapsule.code.lib.kohelpers.InstallKnockoutViewTemplates=function(e){var s,n,t,a,o,l,i;if(!(e!=null)||!e){throw"InstallKnockoutViewTemplates missing windowManagerId parameter."}try{t='<!-- BEGIN: \\ ENCAPSULE PROJECT WINDOW MANAGER HOST -->\n<span id="idEncapsuleWindowManagerHost">\n    <!-- BEGIN: \\ WINDOW MANAGER MODEL VIEW TEMPLATES -->\n    <span id="idEncapsuleWindowManagerViewTemplateCache"></span>\n    <!-- END: / WINDOW MANAGER MODEL VIEW TEMPLATES -->\n    <!-- BEGIN: \\ ENCAPSULE PROJECT WINDOW MANAGER HOST VIEW MODEL -->\n    <span id="idEncapsuleWindowManager" data-bind="template: { name: \'idKoTemplate_EncapsuleWindowManager\' }"></span>\n    <!-- END: / ENCAPSULE PROJECT WINDOW MANAGER HOST VIEW MODEL -->\n</span>\n<!-- END: / ENCAPSULE PROJECT WINDOW MANAGER HOST -->';$("body").append($(t));n=$("#idEncapsuleWindowManagerViewTemplateCache");a=$("#idEncapsuleWindowManager");i=Encapsule.runtime.app.kotemplates;for(o=0,l=i.length;o<l;o++){s=i[o];Console.message("Window manager caching view template: "+s.selectorId_);Encapsule.code.lib.kohelpers.InstallKnockoutViewTemplate(s,n)}return a[0]}catch(r){throw"InstallKnockoutViewTemplates for id="+e+" : "+r}};s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.NavigatorModelView=function(){function s(){var s=this;try{this.objectStore=void 0;this.rootMenuModelView=void 0;this.store=void 0;this.storeObserverId=void 0;this.selectedCachedAddressSinkStore=void 0;this.attachToStore=function(e){try{if(!(e!=null&&e)){throw"Missing store input parameter."}if(s.storeObserverId!=null&&s.storeObserverId){throw"This navigator instance is already observing an ONMjs.Store instance."}s.store=e;s.storeObserverId=e.registerObserver(s.objectStoreObserverInterface,s);return true}catch(n){throw"ONMjs.observers.NavigatorModelView.attachToStore failure: "+n}};this.detachFromStore=function(){try{if(!(s.storeObserverId!=null)&&s.storeObserverId){throw"This navigator instance is not attached to an ONMjs.Store instance."}s.store.unregisterObserver(s.storeObserverId);s.storeObserverId=void 0;return true}catch(e){throw"ONMjs.observers.NavigatorModelView.detachFromStore failure: "+e}};this.attachToCachedAddress=function(e){var n;try{if(!(e!=null&&e)){throw"Missing cached address input parameter."}n=e.registerObserver(s.cachedAddressObserverInterface,s);return n}catch(t){throw"ONMjs.observers.NavigatorModelView.attachToCachedAddress failure: "+excpetion}};this.detachFromCachedAddress=function(e,s){try{if(!(typeof cachedAddress_!=="undefined"&&cachedAddress_!==null&&e)){throw"Missing cached address input parameter."}if(!(s!=null&&s)){throw"Missing observer ID input parameter."}cachedAddress_.unregisterObserver(s);return true}catch(n){throw"ONMjs.observers.NavigatorModelView.detachFromCachedAddress failure: "+n}};this.setCachedAddressSinkStore=function(e){try{if(!(e!=null&&e)){throw"Missing cached address input parameter."}return s.selectedCachedAddressSinkStore=e}catch(n){throw"ONMjs.observers.NavigatorModelView.setCachedAddressSinkStore failure: "+n}};this.routeUserSelectAddressRequest=function(e){var n;try{if(s.selectedCachedAddressSinkStore!=null&&s.selectedCachedAddressSinkStore){s.selectedCachedAddressSinkStore.setAddress(e);return}n="ONMjs.obsevers.NavigatorModelView.routeUserSelectAddressRequest for address  '"+e.getHashString()+"'failed. "+"setCachedAddressSinkStore method must be called to set the routing destination.";return alert(n)}catch(t){throw"ONMjs.observers.NavigatorModelView.routeUserSelectAddressRequest failure: "+t}};this.objectStoreObserverInterface={onObserverAttachBegin:function(e,n){try{Console.message("ONMjs.observer.NavigatorModelview is now observing ONMjs.Store.");if(s.storeObserverId!=null&&s.storeObserverId){throw"This navigator instance is already observing an ONMjs.Store."}s.storeObserverId=n;return true}catch(t){throw"ONMjs.observers.NavigatorModelView.objectStoreObserverCallbacks.onObserverAttach failure: "+t}},onObserverDetachEnd:function(e,n){try{Console.message("ONMjs.observers.NavigatorModelView is no longer observing ONMjs.Store.");if(!(s.storeObserverId!=null&&s.storeObserverId)){throw"Internal error: received detach callback but it doesn't apprear we're attached?"}if(s.storeObserverId!==n){throw"Internal error: received detach callback for un unrecognized observer ID?"}s.storeObserverId=void 0;return true}catch(t){throw"ONMjs.observers.NavigatorModelView.objectStoreObserverCallbacks.onObserverDetach failure: "+t}},onNamespaceCreated:function(n,t,a){var o,l,i;try{if(s.storeObserverId!==t){throw"Unrecognized observer ID."}o=n.openObserverNamespaceState(t,a);o.description="Hey this is the ONMjs.observers.NavigatorModelView class saving some submenu state.";o.itemModelView=new e.observers.implementation.NavigatorItemModelView(n,s,a);if(a.isRoot()){s.rootMenuModelView=o.itemModelView}l=a.createParentAddress();if(l!=null&&l!=null){i=n.openObserverNamespaceState(t,l);i.itemModelView.children.push(o.itemModelView);return o.indexInParentChildArray=i.itemModelView.children().length-1}}catch(r){throw"ONMjs.observers.NavigatorModelView failure: "+r}},onNamespaceUpdated:function(e,n,t){var a,o,l;try{if(s.storeObserverId!==n){throw"Unrecognized observer ID."}o=t.getModel();if(o.namespaceType!=="component"){return}a=e.openNamespace(t);l=e.openObserverNamespaceState(n,t);return l.itemModelView.label(a.getResolvedLabel())}catch(i){throw"ONMjs.observers.NavigatorModelView.onNamespaceUpdated failure: "+excpetion}},onNamespaceRemoved:function(e,n,t){var a,o,l,i,r,d,c,p;try{if(s.storeObserverId!==n){throw"Unrecognized observer ID."}i=e.openObserverNamespaceState(n,t);if(t.isRoot()){s.rootMenuModelView=void 0}r=t.createParentAddress();if(r!=null&&r){c=e.openObserverNamespaceState(n,r);d=c.itemModelView.children();p=i.indexInParentChildArray;d.splice(p,1);while(p<d.length){a=d[p];o=a.address;l=e.openObserverNamespaceState(n,o);l.indexInParentChildArray=p++}c.itemModelView.children(d);return true}}catch(u){throw"ONMjs.observers.NavigatorModelView.onNamespaceRemoved failure: "+u}}};this.selectedNamespacesBySelectorHash={};this.cachedAddressObserverInterface={onComponentCreated:function(e,n,t){try{return s.cachedAddressObserverInterface.onComponentUpdated(e,n,t)}catch(a){throw"ONMjs.observers.NavigatorModelView.cachedAddressObserverInterface.onComponentCreated failure: "+a}},onComponentUpdated:function(e,n,t){var a,o,l;try{l=e.openObserverState(n);if(l.itemModelView!=null&&l.itemModelView){l.itemModelView.removeSelection(n)}a=e.getAddress();if(a!=null&&a){o=s.store.openObserverNamespaceState(s.storeObserverId,a);if(!(o.itemModelView!=null&&o.itemModelView)){throw"Internal error: namespace state cache for this namespace is not initialized."}o.itemModelView.addSelection(n);return l.itemModelView=o.itemModelView}}catch(i){throw"ONMjs.observers.NavigatorModelView.cachedAddressObserverInterface.onComponentUpdated failure: "+i}}}}catch(n){throw" ONMjs.observers.NavigatorModelView consructor failure: "+n}}return s}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_NavigatorViewModel",function(){return'<span data-bind="if: rootMenuModelView">\n    <div class="classONMjsNavigator">\n        <span data-bind="template: { name: \'idKoTemplate_NavigatorItemViewModel\', foreach: rootMenuModelView.children }"></span>\n    </div>\n</span>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observer={});e.observers.implementation=e.observers.implementation!=null&&e.observers.implementation||(e.observers.implementation={});e.observers.implementation.NavigatorItemModelView=function(){function e(e,s,n){var t,a=this;try{if(!(e!=null&&e)){throw"Missing object store input parameter."}if(!(s!=null&&s)){throw"Missing parent object model navigator window input parameter."}if(!(n!=null&&n)){throw"Missing address input parameter."}this.store=e;this.navigatorModelView=s;this.address=n;this.children=ko.observableArray([]);this.isSelected=ko.observable(false);this.selectionsByObserverId={};t=e.openNamespace(n);this.label=ko.observable(t.getResolvedLabel());this.onClick=function(){try{return a.navigatorModelView.routeUserSelectAddressRequest(a.address)}catch(e){return Console.messageError("ONMjs.observers.implementation.PathElementModelView.onClick failure: "+e)}};this.addSelection=function(e){try{if(!(e!=null&&e)){throw"Missing observer ID input parameter."}a.selectionsByObserverId[e]=true;return a.isSelected(true)}catch(s){throw"ONMjs.observers.implementation.PathElementModelView.addSelection failure: "+s}};this.removeSelection=function(e){try{if(!(e!=null&&e)){throw"Missing observer ID input parameter."}delete a.selectionsByObserverId[e];return a.isSelected(Encapsule.code.lib.js.dictionaryLength(a.selectionsByObserverId)&&true||false)}catch(s){throw"ONMjs.observers.implementation.PathElementModelView.removeSelection failure: "+s}}}catch(o){throw"ONMjs.observers.implementation.PathElementModelView construction failure: : "+o}}return e}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_NavigatorItemViewModel",function(){return'<span data-bind="if: isSelected()">\n    <div class="classONMjsNavigatorItem classONMjsNavigatorItemSelected">\n        <div class="classONMjsNavigatorItemSelectedLabel" data-bind="text: label" ></div>\n\n        <span data-bind="if: children().length">\n            <div class="classONMjsNavigatorItemSelectedChildren">\n                <div data-bind="template: { name: \'idKoTemplate_NavigatorItemViewModel\', foreach: children }"></div>\n            </div>\n        </span>\n\n    </div>\n</span>\n\n<span data-bind="ifnot: isSelected()">\n    <div class="classONMjsNavigatorItem classONMjsNavigatorItemUnselected classONMjsMouseOverPointer" data-bind="click: onClick, clickBubble: false" >\n        <div class="classONMjsNavigatorItemUnselectedLabel" data-bind="text: label"></div>\n\n        <span data-bind="if: children().length">\n            <div class="classONMjsNavigatorItemUnselectedChildren">\n                <div data-bind="template: { name: \'idKoTemplate_NavigatorItemViewModel\', foreach: children }"></div>\n            </div>\n        </span>\n\n    </div>\n</span>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers.SelectedJsonModelView=function(){function e(){var e=this;try{this.title=ko.observable("<not connected>");this.selectorHash=ko.observable("<not connected>");this.jsonString=ko.observable("<not connected>");this.cachedAddressStore=void 0;this.cahcedAddressStoreObserverId=void 0;this.saveJSONAsLinkHtml=ko.computed(function(){var s;return s='<a href="data:text/json;base64,'+window.btoa(e.jsonString())+'" target="_blank" title="Open raw JSON in new tab..."> \n<img src="./img/json_file-48x48.png" style="width: 24px; heigh: 24px; border: 0px solid black; vertical-align: middle;" ></a>'});this.attachToCachedAddress=function(s){try{if(!(s!=null&&s)){throw"Missing cached address store input parameter."}if(e.cachedAddressStore!=null&&e.cachedAddressStore){throw"Already attached to an ONMjs.CachedAddress object."}e.cachedAddressStore=s;e.storeObserverId=s.registerObserver(e.cachedAddressCallbackInterface,e);return true}catch(n){throw"ONMjs.observers.SelectedJsonModelView.attachToCachedAddress failure: "+n+"."}};this.detachFromCachedAddress=function(){try{if(!(e.cachedAddressStoreObserverId!=null&&e.cachedAddressStoreObserverId)){throw"Not attached to an ONMjs.CachedAddress object."}e.cachedAddressStore.unregisterObserver(e.cachedAddressStoreObserverId);e.cachedAddressStore=void 0;e.cachedAddressStoreObserverId=void 0;return true}catch(s){throw"ONMjs.observers.SelectedJsonModelView.detachFromCachedAddress failure: "+s+"."}};this.cachedAddressCallbackInterface={onComponentCreated:function(s,n,t){try{return e.cachedAddressCallbackInterface.onComponentUpdated(s,n,t)}catch(a){throw"ONMjs.observers.SelectedJsonModelView.cachedAddressCallbackInterface.onComponentCreated failure: "+a}},onComponentUpdated:function(s,n,t){var a,o;try{o=s.getAddress();if(!(o!=null&&o)){e.title("<no selected address>");e.selectorHash("Address: <no selected address>");e.jsonString("<undefined>");return true}a=s.referenceStore.openNamespace(o);e.title(a.getResolvedLabel());e.selectorHash(a.getResolvedAddress().getHashString());e.jsonString(a.toJSON(void 0,2));return true}catch(l){throw"ONMjs.observers.SelectedJsonModelView.cachedAddressCallbackInterface.onComponentUpdated failure: "+l}}}}catch(s){throw"ONMjs.observers.SelectedJsonModelView construction failure: "+s}}return e}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_ObjectModelNavigatorJsonModelView",function(){return'<div class="classONMjsSelectedJson">\n    <span data-bind="html: saveJSONAsLinkHtml"></span>\n    <span class="titleString" data-bind="html: title"></span>\n</div>\naddress hash:<br>\n<span class="classONMjsSelectedJsonAddressHash" data-bind="html: selectorHash"></span>\n<div class="classObjectModelNavigatorJsonBody">\n    <pre class="classONMjsSelectedJsonBody" data-bind="html: jsonString"></pre>\n</div>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.implementation=e.observers.implementation!=null&&e.observers.implementation||(e.observers.implementation={});e.observers.implementation.SelectedPathElementModelView=function(){function e(e,s,n,t){var a,o,l,i,r=this;try{this.cachedAddressStore=e;this.objectStoreAddress=t;this.isSelected=s===n;o=e.referenceStore.openNamespace(t);a=o.getResolvedToken().namespaceDescriptor;l=o.getResolvedLabel();this.prefix="";switch(s){case 0:break;case 1:this.prefix+=" :: ";break;default:this.prefix+=" / ";break}if(this.prefix.length){this.prefix='<span class="prefix">'+this.prefix+"</span>"}this.label="";if(this.isSelected){this.label+='<span class="selected">'+l+"</span>"}else{i="parent classONMjsMouseOverPointer";if(a.isComponent){i+=" component"}this.label+='<span class="'+i+'">'+l+"</span>"}this.onClick=function(){try{if(!r.isSelected){return r.cachedAddressStore.setAddress(r.objectStoreAddress)}}catch(e){return Console.messageError("ONMjs.observers.implementation.SelectedPathElementModelView.onClick failure: "+e)}}}catch(d){throw"ONMjs.observers.SelectedPathElementModelView failure: "+d}}return e}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedPathElementViewModel",function(){return'<span class="classONMjsSelectedPathElement"><span data-bind="html: prefix"></span><span data-bind="html: label, click: onClick"></span></span>'});e.observers.SelectedPathModelView=function(){function s(){var s=this;try{this.pathElements=ko.observableArray([]);this.cachedAddressStore=void 0;this.cachedAddressStoreObserverId=void 0;this.addressHumanString=ko.observable("not connected");this.addressHashString=ko.observable("not connected");this.attachToCachedAddress=function(e){try{if(!(e!=null&&e)){throw"Missing cached address input parameter."}if(s.cachedAddressStore!=null&&s.cachedAddressStore){throw"Already attached to an ONMjs.CachedAddress object."}s.cachedAddressStore=e;s.cachedAddressStoreObserverId=e.registerObserver(s.cachedAddressObserverInterface,s);return true}catch(n){throw"ONMjs.observers.SelectedPathModelView.attachToCachedAddress failure: "+n}};this.detachFromCachedAddress=function(){try{if(!(s.cachedAddressStoreObserverId!=null&&s.cachedAddressStoreObserverId)){throw"Not attached to an ONMjs.CachedAddress object."}s.cachedAddressStore.unregisterObserver(s.cachedAddressStoreObserverId);return true}catch(e){throw"ONMjs.observers.SelectedPathModelView.detachFromCachedAddress failure: "+e}};this.cachedAddressObserverInterface={onAttachEnd:function(e,s){return Console.message("ONMjs.observers.SelectedPathModelView has attached to and is observing in ONMjs.CachedAddress instance.")},onDetachEnd:function(e,n){s.pathElements.removeAll();s.addressHashString("not connected");s.addressHumanString("not connected");s.cachedAddress=void 0;s.cachedAddressStoreObserverId=void 0;return Console.message("ONMjs.observers.SelectedPathModelView has detached from and is no longer observing an ONMjs.CachedAddress instance.")},onComponentCreated:function(e,n,t){try{return s.cachedAddressObserverInterface.onComponentUpdated(e,n,t)}catch(a){return"ONMjs.observers.SelectedPathModelView.cachedAddressObserverInterface.onComponentCreated failure: "+a}},onComponentUpdated:function(n,t,a){var o,l,i,r,d,c,p,u;try{d=n.getAddress();if(!(d!=null&&d)){return true}s.addressHumanString(d.getHumanReadableString());s.addressHashString(d.getHashString());l=[];d.visitParentAddressesAscending(function(e){return l.push(e)});l.push(d);i=0;c=l.length-1;s.pathElements.removeAll();for(p=0,u=l.length;p<u;p++){o=l[p];r=new e.observers.implementation.SelectedPathElementModelView(n,i++,c,o);s.pathElements.push(r)}return true}catch(m){throw"OMNjs.observers.SelectedPathModelView.cachedAddressObserverInterface.onComponentUpdated failure: "+m}}}}catch(n){throw"ONMjs.observers.SelectedPathModelView construction failure: "+n}}return s}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedPathViewModel",function(){return'<div class="classONMjsSelectedPath"><span data-bind="template: { name: \'idKoTemplate_SelectedPathElementViewModel\', foreach: pathElements }"></span></div>\n<div style="margin-top: 8px; font-family: Courier;"><span data-bind="text: addressHumanString"></span></div>\n<div style="font-family: Courier;"><span data-bind="text: addressHashString"></span></div>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.test={};e.test.observers={};e.test.observers.Canary=function(){var e=this;function s(){}s.prototype.callbackInterface={onObserverAttachBegin:function(e,s){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onObserverAttachBegin")},onObserverAttachEnd:function(e,s){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onObserverAttachEnd")},onObserverDetachBegin:function(e,s){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onObserverDetachBegin")},onObserverDetachEnd:function(e,s){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onObserverDetachEnd")},onComponentCreated:function(e,s,n){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onComponentCreated("+n.getHumanReadableString()+")")},onComponentUpdated:function(e,s,n){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onComponentUpdated("+n.getHumanReadableString()+")")},onComponentRemoved:function(e,s,n){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onComponentRemoved("+n.getHumanReadableString()+")")},onNamespaceCreated:function(e,s,n){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onNamespaceCreated("+n.getHumanReadableString()+")")},onNamespaceUpdated:function(e,s,n){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onNamespaceUpdated("+n.getHumanReadableString()+")")},onNamespaceRemoved:function(e,s,n){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onNamespaceRemoved("+n.getHumanReadableString()+")")},onSubNamespaceUpdated:function(e,s,n){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onSubNamespaceUpdated("+n.getHumanReadableString()+")")},onSubComponentUpdated:function(e,s,n){return Console.message("ONMjs_"+e.jsonTag+"::"+s+"::onSubComponentUpdated("+n.getHumanReadableString()+")")}};return s}.call(this);s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.SelectedNamespaceModelView=function(){function s(){var s=this;try{this.objectStoreName=ko.observable("<not connected>");this.title=ko.observable("<not connected>");this.modelviewActions=ko.observable(void 0);this.modelviewTitle=ko.observable(void 0);this.modelviewImmutable=ko.observable(void 0);this.modelviewMutable=ko.observable(void 0);this.modelviewComponent=ko.observable(void 0);this.modelviewChildren=ko.observable(void 0);this.modelviewCollection=ko.observable(void 0);this.cachedAddressStore=void 0;this.cachedAddressStoreObserverId=void 0;this.attachToCachedAddress=function(e){try{if(!(e!=null&&e)){throw"Missing cached address input parameter."}if(s.cachedAddressStore!=null&&s.cachedAddressStore){throw"This namespace observer is already attached to a selected address store."}s.cachedAddressStore=e;s.cachedAddressStoreObserverId=e.registerObserver(s.cachedAddressObserverInterface,s);return true}catch(n){throw"ONMjs.observers.SelectedNamespaceModelView.attachToCachedAddress failure: "+n}};this.detachFromCachedAddress=function(){try{if(!(s.cachedAddressStoreObserverId&&s.cachedAddressStoreObserverId)){throw"This namespace observer is not currently attached to a cached address store."}s.cachedAddressStore.unregisterObserver(s.cachedAddressStoreObserverId);s.cachedAddressStore=void 0;s.cachedAddressStoreObserverId=void 0;return true}catch(e){throw"ONMjs.observers.SelectedNamespaceModelView.detachFromCachedAddress failure: "+e}};this.cachedAddressObserverInterface={onComponentCreated:function(e,n,t){return s.cachedAddressObserverInterface.onComponentUpdated(e,n,t)},onComponentUpdated:function(n,t,a){var o,l,i,r,d,c,p,u,m;c=n.referenceStore;p=n.getAddress();if(!(p&&p)){return true}u=c.openNamespace(p);m=p.getModel();s.objectStoreName=c.jsonTag;o={cachedAddressStore:n,objectStore:c,selectedAddress:p,selectedNamespace:u,selectedNamespaceModel:m};s.modelviewTitle(new e.observers.SelectedNamespaceTitleModelView(o));s.modelviewActions(new e.observers.SelectedNamespaceActionsModelView(o));r=m.namespaceType;switch(r){case"root":s.modelviewImmutable(new e.observers.SelectedNamespaceImmutablePropertiesModelView(o));s.modelviewMutable(void 0);d=new e.observers.SelectedNamespaceChildrenModelView(o);s.modelviewChildren(d.childModelViews.length&&d||void 0);s.modelviewComponent(new e.observers.SelectedNamespaceComponentModelView(o));s.modelviewCollection(void 0);break;case"child":l=new e.observers.SelectedNamespaceImmutablePropertiesModelView(o);s.modelviewImmutable(l.propertyModelViews.length&&l||void 0);i=new e.observers.SelectedNamespaceMutablePropertiesModelView(o);s.modelviewMutable(i.propertyModelViews.length&&i||void 0);d=new e.observers.SelectedNamespaceChildrenModelView(o);s.modelviewChildren(d.childModelViews.length&&d||void 0);s.modelviewComponent(new e.observers.SelectedNamespaceComponentModelView(o));s.modelviewCollection(void 0);break;case"extensionPoint":s.modelviewImmutable(void 0);s.modelviewMutable(void 0);s.modelviewChildren(void 0);s.modelviewComponent(new e.observers.SelectedNamespaceComponentModelView(o));s.modelviewCollection(new e.observers.SelectedNamespaceCollectionModelView(o));break;case"component":l=new e.observers.SelectedNamespaceImmutablePropertiesModelView(o);s.modelviewImmutable(l.propertyModelViews.length&&l||void 0);i=new e.observers.SelectedNamespaceMutablePropertiesModelView(o);s.modelviewMutable(i.propertyModelViews.length&&i||void 0);d=new e.observers.SelectedNamespaceChildrenModelView(o);s.modelviewChildren(d.childModelViews.length&&d||void 0);s.modelviewComponent(new e.observers.SelectedNamespaceComponentModelView(o));s.modelviewCollection(void 0);break;default:throw"Unrecognized namespace type in request."}}}}catch(n){throw"ONMjs.observers.SelectedNamespaceModelView construction failure: "+n}}return s}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceViewModel",function(){return'<span data-bind="if: modelviewTitle"><span data-bind="with: modelviewTitle"><span data-bind="template: { name: \'idKoTemplate_SelectedNamespaceTitleViewModel\' }"></span></span></span>\n<span data-bind="if: modelviewActions"><span data-bind="with: modelviewActions"><span data-bind="template: { name: \'idKoTemplate_SelectedNamespaceActionsViewModel\' }"></span></span></span>\n<span data-bind="if: modelviewImmutable"><span data-bind="with: modelviewImmutable"><span data-bind="template: { name: \'idKoTemplate_SelectedNamespaceImmutablePropertiesViewModel\' }"></span></span></span>\n<span data-bind="if: modelviewMutable"><span data-bind="with: modelviewMutable"><span data-bind="template: { name: \'idKoTemplate_SelectedNamespaceMutablePropertiesViewModel\'}"></span></span></span>\n<span data-bind="if: modelviewCollection"><span data-bind="with: modelviewCollection"><span data-bind="template: { name: \'idKoTemplate_SelectedNamespaceCollectionViewModel\'}"></span></span></span>\n<span data-bind="if: modelviewComponent"><span data-bind="with: modelviewComponent"><span data-bind="template: { name: \'idKoTemplate_SelectedNamespaceComponentViewModel\'}"></span></span></span>\n<span data-bind="if: modelviewChildren"><span data-bind="with: modelviewChildren"><span data-bind="template: { name: \'idKoTemplate_SelectedNamespaceChildrenViewModel\'}"></span></span></span>'
});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.SelectedNamespaceActionsModelView=function(){function s(s){var n,t,a,o,l,i=this;try{this.onClickAddSubcomponent=function(e,s,n,t,a){var o;try{Console.message("ObjectModelNavigatorNamespaceActions.onClickAddSubcomponent starting...");o=t.referenceStore.createComponent(n);return t.setAddress(o.getResolvedAddress())}catch(l){return Console.messageError("ONMjs.observers.SelectedNamespaceActionsModelView.onClickAddSubcomponent failure: "+l)}};this.onClickRemoveComponent=function(e,s,n,t,a){try{return i.showConfirmRemove(true)}catch(o){throw"ONMjs.observers.SelectedNamespaceActionsModelView.onClickRemoveComponent failure: "+o}};this.onDoRemoveComponent=function(e,s,n,t,a){try{return t.referenceStore.removeComponent(n)}catch(o){return Console.messageError("ONMjs.observers.SelectedNamespaceActionsModelView.onClickRemoveComponent failure: "+o)}};this.onClickRemoveAllSubcomponents=function(e,s,n,t,a){try{return i.showConfirmRemoveAll(true)}catch(o){throw"ONMjs.observers.SelectedNamespaceActionsModelView.onClickRemoveAllSubcomponents failure: "+o}};this.onDoRemoveAllSubcomponents=function(e,s,n,t,a){var o,l,i,r,d,c,p;try{i=t.referenceStore;l=i.openNamespace(n);r=[];l.visitExtensionPointSubcomponents(function(e){return r.push(e)});p=[];for(d=0,c=r.length;d<c;d++){o=r[d];p.push(i.removeComponent(o))}return p}catch(u){return Console.messageError("ONMjs.observers.SelectedNamespaceActionsModelView.onClickRemoveAllSubcomponents failure: "+u)}};this.onClickCancelActionRequest=function(e,s,n,t,a){try{i.showConfirmRemoveAll(false);return i.showConfirmRemove(false)}catch(o){throw"ONMjs.observers.SelectedNamespaceActionsModelView.onClickCancelActionRequest failure: "+o}};this.actionsForNamespace=false;this.callbackLinkAddSubcomponent=void 0;this.callbackLinkRequestRemoveAllSubcomponents=void 0;this.callbackLinkRemoveAllSubcomponents=void 0;this.callbackLinkRequestRemoveComponent=void 0;this.callbackLinkRemoveComponent=void 0;this.callbackLinkCancelActionRequest=new e.observers.helpers.CallbackLinkModelView("","Cancel Request",void 0,void 0,{styleClass:"classONMjsActionButtonCancel"},this.onClickCancelActionRequest);this.showConfirmRemove=ko.observable(false);this.showConfirmRemoveAll=ko.observable(false);switch(s.selectedNamespaceModel.namespaceType){case"root":break;case"child":break;case"extensionPoint":t=s.selectedAddress.createSubcomponentAddress();a=t.getModel();n=a.____label!=null&&a.____label||"<no label provided>";this.callbackLinkAddSubcomponent=new e.observers.helpers.CallbackLinkModelView("","Add "+n,t,s.cachedAddressStore,{styleClass:"classONMjsActionButtonAdd"},this.onClickAddSubcomponent);l=Encapsule.code.lib.js.dictionaryLength(s.selectedNamespace.data());o=s.selectedNamespaceModel.____label!=null&&s.selectedNamespaceModel.____label||"<no label defined>";this.callbackLinkRequestRemoveAllSubcomponents=new e.observers.helpers.CallbackLinkModelView("","Remove All "+o,void 0,void 0,{noLink:l===0,styleClass:l!==0&&"classONMjsActionButtonRemoveAll"||void 0},this.onClickRemoveAllSubcomponents);this.callbackLinkRemoveAllSubcomponents=new e.observers.helpers.CallbackLinkModelView("","Proceed with Remove All",s.selectedAddress,s.cachedAddressStore,{noLink:l===0,styleClass:l!==0&&"classONMjsActionButtonConfirm"||void 0},this.onDoRemoveAllSubcomponents);this.actionsForNamespace=true;break;case"component":o=s.selectedNamespaceModel.____label!=null&&s.selectedNamespaceModel.____label||"<no label provided>";this.callbackLinkRequestRemoveComponent=new e.observers.helpers.CallbackLinkModelView("","Remove "+o,void 0,void 0,{styleClass:"classONMjsActionButtonRemove"},this.onClickRemoveComponent);this.callbackLinkRemoveComponent=new e.observers.helpers.CallbackLinkModelView("","Proceed with Remove",s.selectedAddress,s.cachedAddressStore,{styleClass:"classONMjsActionButtonConfirm"},this.onDoRemoveComponent);this.actionsForNamespace=true;break}}catch(r){throw"ONMjs.observers.SelectedNamespaceActions construction failure: "+r}}return s}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceActionsViewModel",function(){return'<div class="classONMjsSelectedNamespaceSectionTitle">\n    Actions:\n</div>\n<div class="classONMjsSelectedNamespaceSectionCommon classONMjsSelectedNamespaceActions">\n    <span data-bind="if: actionsForNamespace">\n        <div>\n            <span data-bind="if: callbackLinkAddSubcomponent">\n                <span data-bind="with: callbackLinkAddSubcomponent">\n                    <span data-bind="template: { name: \'idKoTemplate_CallbackLinkViewModel\' }"></span>\n                </span>\n            </span>\n            <span data-bind="if: callbackLinkRequestRemoveAllSubcomponents">\n                <span data-bind="with: callbackLinkRequestRemoveAllSubcomponents">\n                    <span data-bind="template: { name: \'idKoTemplate_CallbackLinkViewModel\' }"></span>\n                </span>\n            </span>\n            <span data-bind="if: callbackLinkRequestRemoveComponent">\n                <span data-bind="with: callbackLinkRequestRemoveComponent">\n                    <span data-bind="template: { name: \'idKoTemplate_CallbackLinkViewModel\' }"></span>\n                </span>\n            </span>\n\n            <span data-bind="if: showConfirmRemove">\n                <div class="classONMjsActionConfirmation">\n                    Please confirm <strong><span data-bind="text: callbackLinkRequestRemoveComponent.label"></span></span></strong> request.<br><br>\n                    <span data-bind="with: callbackLinkCancelActionRequest">\n                        <span data-bind="template: { name: \'idKoTemplate_CallbackLinkViewModel\' }"></span>\n                    </span>\n                    <span data-bind="with: callbackLinkRemoveComponent">\n                        <span data-bind="template: { name: \'idKoTemplate_CallbackLinkViewModel\' }"></span>\n                    </span>\n                </div>\n            </span>\n\n            <span data-bind="if: showConfirmRemoveAll">\n                <div class="classONMjsActionConfirmation">\n                    Please confirm <strong><span data-bind="text: callbackLinkRequestRemoveAllSubcomponents.label"></span></span></strong> request.<br><br>\n                    <span data-bind="with: callbackLinkCancelActionRequest">\n                        <span data-bind="template: { name: \'idKoTemplate_CallbackLinkViewModel\' }"></span>\n                    </span>\n                    <span data-bind="with: callbackLinkRemoveAllSubcomponents">\n                        <span data-bind="template: { name: \'idKoTemplate_CallbackLinkViewModel\' }"></span>\n                    </span>\n                </div>\n            </span>\n\n        </div>\n    </span>\n    <span data-bind="ifnot: actionsForNamespace"><i>No actions defined for this namespace.</i></span>\n</div>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.SelectedNamespaceChildrenModelView=function(){function s(s){var n,t=this;try{this.childModelViews=[];n=0;s.selectedAddress.visitChildAddresses(function(a){var o,l,i;o=s.cachedAddressStore.referenceStore.openNamespace(a);i=""+(n++ +1)+": ";l=""+o.getResolvedLabel();if(a.getModel().namespaceType==="extensionPoint"){l+=" ("+Encapsule.code.lib.js.dictionaryLength(o.data())+")"}l+="<br>";return t.childModelViews.push(new e.observers.helpers.AddressSelectionLinkModelView(i,l,a,s.cachedAddressStore))})}catch(a){throw"ONMjs.observers.SelectedNamespaceChildrenModelView failure: "+a}}return s}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceChildrenViewModel",function(){return'<span data-bind="if: childModelViews.length">\n    <div class="classONMjsSelectedNamespaceSectionTitle">Child Namespaces (<span data-bind="text: childModelViews.length"></span>):</div>\n    <div class="classONMjsSelectedNamespaceSectionCommon classONMjsSelectedNamespaceChildren">\n        <span data-bind="template: { name: \'idKoTemplate_AddressSelectionLinkViewModel\', foreach: childModelViews }"></span>\n    </div>\n</span>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.SelectedNamespaceCollectionModelView=function(){function s(s){var n,t,a,o=this;try{this.subcomponentModelViews=[];t=s.selectedNamespaceModel.____label;this.namespaceLabel=t!=null&&t||"<no label provided>";a=s.cachedAddressStore.referenceStore.model.getSemanticBindings();n=0;s.selectedNamespace.visitExtensionPointSubcomponents(function(a){var l,i;i=s.cachedAddressStore.referenceStore.openNamespace(a);l=""+(n++ +1)+": ";t=""+i.getResolvedLabel()+"<br>";return o.subcomponentModelViews.push(new e.observers.helpers.AddressSelectionLinkModelView(l,t,a,s.cachedAddressStore))})}catch(l){throw"ONMjs.observers.SelectedNamespaceCollectionModelView failure: "+l}}return s}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceCollectionViewModel",function(){return'<div class="classONMjsSelectedNamespaceSectionTitle">\n<span class="class="classONMjsAddressSelectionLinkLabelNoLink" data-bind="html: namespaceLabel"></span>\nSubcomponents (<span data-bind="text: subcomponentModelViews.length"></span>):\n</div>\n<div class="classONMjsSelectedNamespaceSectionCommon classONMjsSelectedNamespaceCollection">\n<span data-bind="ifnot: subcomponentModelViews.length">\n<i><span class="classONMjsAddressSelectionLinkLabelNoLink" data-bind="html: namespaceLabel"></span> extension point is empty.</i>\n</span>\n<span data-bind="if: subcomponentModelViews.length">\n<span class="link" data-bind="template: { name: \'idKoTemplate_AddressSelectionLinkViewModel\', foreach: subcomponentModelViews }"></span>\n</span>\n</div>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.SelectedNamespaceComponentModelView=function(){function s(s){var n,t,a,o=this;try{n=s.selectedAddress.createComponentAddress();t=s.cachedAddressStore.referenceStore.openNamespace(n);this.extensionPointModelViewArray=[];a=0;n.visitExtensionPointAddresses(function(n){var t,l,i,r,d;i=n.isEqual(s.selectedAddress);t=s.cachedAddressStore.referenceStore.openNamespace(n);r=void 0;if(a++){r=" &bull; "}l=""+t.getResolvedLabel();d=Encapsule.code.lib.js.dictionaryLength(t.data());l+=" ("+d+")";return o.extensionPointModelViewArray.push(new e.observers.helpers.AddressSelectionLinkModelView(r,l,n,s.cachedAddressStore,{noLink:i}))})}catch(l){throw"ONMjs.observers.SelectedNamespaceComponentModelView failure: "+l}}return s}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceComponentViewModel",function(){return'\n<span data-bind="if: extensionPointModelViewArray.length">\n    <div class="classONMjsSelectedNamespaceSectionTitle">\n        Extension Points (<span data-bind="text: extensionPointModelViewArray.length"></span>):\n    </div>\n    <span data-bind="ifnot: extensionPointModelViewArray.length"><i>Extension point contains no subcomponents.</i></span>\n    <span data-bind="if: extensionPointModelViewArray.length">\n    <div class="classONMjsSelectedNamespaceSectionCommon classONMjsSelectedNamespaceComponent">\n        <span data-bind="template: { name: \'idKoTemplate_AddressSelectionLinkViewModel\', foreach: extensionPointModelViewArray }"></span>\n    </div>\n    </span>\n</span>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.helpers=e.observers.helpers!=null&&e.observers.helpers||(e.observers.helpers={});e.observers.helpers.AddressSelectionLinkModelView=function(){function e(e,s,n,t,a){var o,l=this;try{this.prefix=e!=null&&e||"";this.label=s!=null&&s||"<no label provided>";this.address=n!=null&&n&&n.clone()||function(){throw"Missing address input parameter."}();this.selectorStore=t!=null&&t||function(){throw"Missing selector store input parameter."}();o=a!=null&&a||{};this.optionsNoLink=o.noLink!=null&&o.noLink||false;this.onClick=function(){try{return l.selectorStore.setAddress(l.address)}catch(e){return Console.messageError("ONMjs.observers.helpers.AddressSelectionLinkModelView.onClick failure: "+e)}}}catch(i){throw"ONMjs.observers.helpers.AddressSelectionLinkModelView failure: "+i}}return e}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_AddressSelectionLinkViewModel",function(){return'<span data-bind="if: prefix"><span class="classONMjsAddressSelectionLinkPrefix" data-bind="html: prefix"></span></span><span data-bind="ifnot: optionsNoLink"><span class="classONMjsAddressSelectionLinkLabel classONMjsMouseOverPointer" data-bind="html: label, click: onClick"></span></span><span data-bind="if: optionsNoLink"><span class="classONMjsAddressSelectionLinkLabelNoLink" data-bind="html: label"></span></span>'});e.observers.helpers.CallbackLinkModelView=function(){function e(e,s,n,t,a,o){var l=this;try{this.prefix=e!=null&&e||"";this.label=s!=null&&s||"<no label provided>";this.address=n!=null&&n.clone()||void 0;this.selectorStore=t!=null&&t||void 0;this.options=a!=null&&a||{};this.optionsNoLink=this.options.noLink!=null&&this.options.noLink||false;this.optionsStyleClass=this.options.styleClass!=null&&this.options.styleClass||void 0;this.callback=o;this.onClick=function(){try{if(!(l.callback!=null&&l.callback)){throw"Internal error: Did you construct this callback link with a valid callback function?"}return l.callback(l.prefix,l.label,l.address,l.selectorStore,l.options)}catch(e){return Console.messageError("ONMjs.observers.helpers.CallbackLinkModelView.onClick failure: "+e)}}}catch(i){throw"ONMjs.observers.helpers.CallbackLinkModelView failure: "+i}}return e}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_CallbackLinkViewModel",function(){return'<span class="classONMjsCallbackLink">\n    <span data-bind="if: prefix"><span class="prefix" data-bind="html: prefix"></span></span>\n    <span data-bind="ifnot: optionsNoLink">\n        <span class="link classONMjsMouseOverPointer" data-bind="html: label, click: onClick, css: optionsStyleClass"></span>\n    </span>\n    <span data-bind="if: optionsNoLink">\n        <span class="nolink" data-bind="html: label, css: optionsStyleClass"></span>\n    </span>\n</span>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.SelectedNamespaceImmutablePropertiesModelView=function(){function e(e){var s,n,t,a,o,l;try{this.propertyModelViews=[];o=e.selectedAddress.getPropertiesModel();if(!(o!=null&&o)){throw"Cannot resolve namespace properties declaration for selection."}a=o.userImmutable!=null&&o.userImmutable||void 0;if(!(a!=null&&a)){return}s=e.selectedNamespace.data();for(t in a){n=a[t];l={immutable:true,declaration:{property:t,members:n},store:{value:s[t]}};this.propertyModelViews.push(l)}}catch(i){throw"ONMjs.observers.SelectedNamespaceImmutablePropertiesModelView failure: "+i}}return e}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceImmutablePropertiesViewModel",function(){return'<div class="classONMjsSelectedNamespaceSectionTitle">\n    Immutable Properties (<span data-bind="text: propertyModelViews.length"></span>):\n</div>\n<div class="classONMjsSelectedNamespaceSectionCommon">\n    <span data-bind="if: propertyModelViews.length">\n        <div class="classONMjsSelectedNamespacePropertiesCommon classONMjsSelectedNamespacePropertiesImmutable">\n            <span data-bind="foreach: propertyModelViews">\n                <div class="name"><span class="immutable" data-bind="text: declaration.property"></span></div>\n                <div class="type" data-bind="text: declaration.members.____type"></div>\n                <div class="value"><span class="immutable" data-bind="text: store.value"></span></div>\n                <div style="clear: both;" />\n            </span>\n        </div>\n    </span>\n    <span data-bind="ifnot: propertyModelViews.length">\n        <i>This namespace has no immutable properties.</i>\n    </span>\n</div>'});e.observers.SelectedNamespaceMutablePropertiesModelView=function(){function s(s){var n,t,a,o,l,i,r=this;try{this.propertyModelViews=[];this.namespace=s.selectedNamespace;l=s.selectedAddress.getPropertiesModel();if(!(l!=null&&l)){throw"Cannot resolve namespace properties declaration for selection."}o=l.userMutable!=null&&l.userMutable||void 0;if(!(o!=null&&o)){return}this.dataReference=s.selectedNamespace.data();this.onClickUpdateProperties=function(e,s,n,t,a){var o,l,i,d,c,p;try{o=false;p=r.propertyModelViews;for(d=0,c=p.length;d<c;d++){l=p[d];i=l.store.valueEdit();if(l.store.value!==i){r.dataReference[l.declaration.property]=i;o=true}}if(o){return r.namespace.update()}}catch(u){throw"ONMjs.observer.SelectedNamespaceMutablePropertiesModelView.onClickUpdateProperties failure: "+u}};n=s.selectedNamespaceModel.____label!=null&&s.selectedNamespaceModel.____label||"<no label defined>";this.updateLinkModelView=new e.observers.helpers.CallbackLinkModelView("","Apply "+n+" Edit",void 0,void 0,{styleClass:"classONMjsActionButtonConfirm"},this.onClickUpdateProperties);this.onClickDiscardPropertyEdits=function(e,s,n,t,a){var o,l,i,d,c;try{d=r.propertyModelViews;c=[];for(l=0,i=d.length;l<i;l++){o=d[l];c.push(o.store.valueEdit(o.store.value))}return c}catch(p){throw"ONMjs.observer.SelectedNamespaceMutablePropertiesModelView.onClickDiscardPropertyEdits failure: "+p}};this.discardLinkModelView=new e.observers.helpers.CallbackLinkModelView("","Discard "+n+" Edits",void 0,void 0,{styleClass:"classONMjsActionButtonCancel"},this.onClickDiscardPropertyEdits);for(a in o){t=o[a];i={immutable:false,declaration:{property:a,members:t},store:{value:this.dataReference[a],valueEdit:ko.observable(this.dataReference[a])}};this.propertyModelViews.push(i)}this.propertiesUpdated=ko.computed(function(){var e,s,n,t,a,o;e=false;o=r.propertyModelViews;for(t=0,a=o.length;t<a;t++){s=o[t];n=s.store.valueEdit();if(s.store.value!==n){e=true}}return e})}catch(d){throw"ONMjs.observers.SelectedNamespaceMutablePropertiesModelView failure: "+d}}return s}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceMutablePropertiesViewModel",function(){return'<div class="classONMjsSelectedNamespaceSectionTitle">\n    Mutable Properties (<span data-bind="text: propertyModelViews.length"></span>):\n</div>\n<div class="classONMjsSelectedNamespaceSectionCommon">\n    <span data-bind="if: propertyModelViews.length">\n        <div class="classONMjsSelectedNamespacePropertiesCommon classONMjsSelectedNamespacePropertiesMutable">\n            <span data-bind="foreach: propertyModelViews">\n                <div class="name" data-bind="text: declaration.property"></div>\n                <div class="type" data-bind="text: declaration.members.____type"></div>\n                <div style="clear: both;" />\n                <div type="text" class="value" contentEditable="true" data-bind="editableText: store.valueEdit"></div>\n            </span>\n            <span data-bind="if: propertiesUpdated">\n                <div class="buttons">\n                    <span data-bind="with: discardLinkModelView"><span data-bind="template: { name: \'idKoTemplate_CallbackLinkViewModel\' }"></span></span>\n                    <span data-bind="with: updateLinkModelView"><span data-bind="template: { name: \'idKoTemplate_CallbackLinkViewModel\' }"></span></span>\n                </div>\n            </span>\n        </div>\n    </span>\n    <span data-bind="ifnot: propertyModelViews.length">\n        <i>This namespace has no mutable properties.</i>\n    </span>\n</div>'});s=typeof Encapsule!=="undefined"&&Encapsule!==null&&Encapsule||(this.Encapsule={});Encapsule.code=Encapsule.code!=null&&Encapsule.code||(this.Encapsule.code={});Encapsule.code.lib=Encapsule.code.lib!=null&&Encapsule.code.lib||(this.Encapsule.code.lib={});Encapsule.code.lib.onm=Encapsule.code.lib.onm!=null&&Encapsule.code.lib.onm||(this.Encapsule.code.lib.onm={});e=Encapsule.code.lib.onm;e.observers=e.observers!=null&&e.observers||(e.observers={});e.observers.SelectedNamespaceTitleModelView=function(){function s(s){var n,t,a,o,l,i,r,d,c,p,u,m,b;try{this.namespaceLabelResolved=s.selectedNamespace.getResolvedLabel();this.namespaceDescription=s.selectedNamespaceModel.____description!=null&&s.selectedNamespaceModel.____description||"<no description provided>";r=false;l=void 0;i=void 0;a=void 0;this.componentSuffixString=void 0;d=false;p=void 0;this.contextLinkModelViewComponent=void 0;this.contextLinkModelViewExtensionPoint=void 0;n=void 0;t=void 0;c=void 0;b=s.selectedAddress.getModel().namespaceType;if(!(b==="root")){r=true;if(s.selectedNamespaceModel.namespaceType!=="component"){n=s.selectedAddress.createComponentAddress()}else{c=s.selectedAddress.createParentAddress();n=c.createComponentAddress()}o=s.objectStore.openNamespace(n);a=o.getResolvedLabel();this.componentSuffixString=n.getModel().namespaceType!=="root"&&":"||"::";this.componentClickableLink=new e.observers.helpers.AddressSelectionLinkModelView("",a,n,s.cachedAddressStore)}if(b==="component"){d=true;if(!(c!=null&&c)){c=s.selectedAddress.createParentAddress()}u=c.getModel();m=u.____label!=null&&u.____label||"<no label defined>";this.extensionPointClickableLink=new e.observers.helpers.AddressSelectionLinkModelView("",m,c,s.cachedAddressStore)}this.templateName=void 0;if(!r){this.templateName="idKoTemplate_SelectedNamespaceTitleRootViewModel"}else if(!d){this.templateName="idKoTemplate_SelectedNamespaceTitleExtensionPointViewModel"}else{this.templateName="idKoTemplate_SelectedNamespaceTitleComponentViewModel"}}catch(h){throw"ONMjs.observers.ObjectModelNavigatorNamespaceTitle failure: "+h}}return s}();Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceTitleRootViewModel",function(){return'<span class="selected" data-bind="html: namespaceLabelResolved"></span>'});Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceTitleExtensionPointViewModel",function(){return'<span data-bind="with: componentClickableLink"><span data-bind="template: { name: \'idKoTemplate_AddressSelectionLinkViewModel\' }"></span></span>\n<span class="separator" data-bind="html: componentSuffixString"></span>\n<span class="selected" data-bind="html: namespaceLabelResolved"></span>'});Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceTitleComponentViewModel",function(){return'<span data-bind="with: componentClickableLink"><span data-bind="template: { name: \'idKoTemplate_AddressSelectionLinkViewModel\' }"></span></span>\n<span class="separator" data-bind="html: componentSuffixString"></span>\n<span data-bind="with: extensionPointClickableLink"><span data-bind="template: { name: \'idKoTemplate_AddressSelectionLinkViewModel\' }"></span></span>\n<span class="separator"> / </span>\n<span class="selected" data-bind="html: namespaceLabelResolved"></span>'});Encapsule.code.lib.kohelpers.RegisterKnockoutViewTemplate("idKoTemplate_SelectedNamespaceTitleViewModel",function(){return'<div class="classONMjsSelectedNamespaceTitle">\n    <span class="classONMjsSelectedNamespaceTitleLinks" data-bind="template: { name: function () { return templateName; } }" ></span>\n    <div class="description" data-bind="html: namespaceDescription"></div>\n</div>'})}).call(this)})();